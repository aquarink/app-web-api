(function(){var __bind=function(fn,me){return function(){return fn.apply(me,arguments)}};$(__bind(function(){return $("form.form-forex").each(function(i,formEl){formEl.updateRate=function(){var rate;var spread;rate=Number($(formEl).find("input[name=rate]").val());spread=Number($(formEl).find("input[name=spread]").val());return $(formEl).find("input[name=finalRate]").val(rate-rate*(spread/100))};$(formEl).find("input[name=rate]").on("keyup",function(e){return formEl.updateRate()});$(formEl).find("input[name=spread]").on("keyup",
function(e){return formEl.updateRate()});formEl.updateRate();$(formEl).on("ajax:success",function(e,result){if(result.indexOf("deleted")===0)return $(formEl).fadeOut();else return $.alert("info",result,3E3)});return $(formEl).on("ajax:error",function(e,xhr){return $.alert("error",xhr.responseText,3E3)})})},this))}).call(this);